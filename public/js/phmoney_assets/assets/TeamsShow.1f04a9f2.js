var C=Object.defineProperty,S=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var U=(i,e,o)=>e in i?C(i,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[e]=o,w=(i,e)=>{for(var o in e||(e={}))j.call(e,o)&&U(i,o,e[o]);if(V)for(var o of V(e))E.call(e,o)&&U(i,o,e[o]);return i},x=(i,e)=>S(i,M(e));import{_ as h,r as u,o as p,g as c,b as a,a as s,t as b,n as r,w as g,e as T,i as d,k,p as N,l as B,m as F,d as P,c as D}from"./main.ff91f6f2.js";const I={props:["team","permissions"],data(){return{form:{name:this.team.name}}},methods:{async submit(){try{await this.store.axios.put(`/phmoney/teams/${this.$route.params.team_pk}`,this.form)}catch{}await this.store.get(`/phmoney/teams/${this.$route.params.team_pk}`)}}},L={class:"p-6"},O=s("h3",null,"Team Name",-1),J=s("p",null,"The team's name and owner information.",-1),A={class:"flex items-center mt-2"},q=["src","alt"],W={class:"ml-4 leading-tight"},z={class:"text-sm text-gray-700"},G={class:"flex flex-wrap gap-2"},H=s("span",{class:"material-icons-outlined"}," save ",-1);function K(i,e,o,v,t,_){const l=u("form-label"),f=u("form-input"),y=u("form-button");return p(),c("div",L,[O,J,a(l,{value:"Team Owner"}),s("div",A,[s("img",{class:"object-cover w-12 h-12 rounded-full",src:i.store.user.profile_photo_url,alt:i.store.user.name},null,8,q),s("div",W,[s("div",null,b(i.store.user.name),1),s("div",z,b(i.store.user.email),1)])]),s("form",{onSubmit:e[1]||(e[1]=T((...m)=>_.submit&&_.submit(...m),["prevent"]))},[s("div",G,[a(l,{for:"name",value:"Team Name"}),a(f,{id:"name",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.name,"onUpdate:modelValue":e[0]||(e[0]=m=>t.form.name=m),required:"",disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),a(y,{class:r(["mt-4",{"opacity-25":i.store.processing}]),disabled:i.store.processing,title:"Save"},{default:g(()=>[H]),_:1},8,["class","disabled"])],32)])}var Q=h(I,[["render",K],["__file","/home/phalo/kainotomo/web_gnucash/vue/code/src/components/teams/TeamsEdit.vue"]]);const X={props:["team","permissions","options"],data(){return{form:{options:{accounting_period:{date_start:this.options.accounting_period.date_start,date_end:this.options.accounting_period.date_end},business:{company_name:this.options.business.company_name,company_address:this.options.business.company_address,company_contact_person:this.options.business.company_contact_person,company_phone_number:this.options.business.company_phone_number,company_fax_number:this.options.business.company_fax_number,company_email_address:this.options.business.company_email_address,company_website_url:this.options.business.company_website_url,company_id:this.options.business.company_id,default_customer_taxtable:this.options.business.default_customer_taxtable,default_vendor_taxtable:this.options.business.default_vendor_taxtable},tax:{tax_number:this.options.tax.tax_number},counters:{bill:this.options.counters.bill,vendor:this.options.counters.vendor,invoice:this.options.counters.invoice,job:this.options.counters.job,employee:this.options.counters.employee},counter_formats:{bill:this.options.counter_formats.bill,vendor:this.options.counter_formats.vendor,invoice:this.options.counter_formats.invoice,job:this.options.counter_formats.job,employee:this.options.counter_formats.employee}}}}},methods:{async submit(){await this.store.put(`/phmoney/teams/${this.$route.params.team_pk}/options/store`,this.form),await this.store.get(`/phmoney/teams/${this.$route.params.team_pk}`)}}},Y={class:"p-6"},Z=s("h3",null,"Options",-1),$=s("p",null,"The team's business options.",-1),ee={class:"grid grid-cols-6 gap-6"},se=s("div",{class:"col-span-6 sm:col-span-6"},[s("h4",{class:"text-md font-bold text-gray-900"},"Accounting Period")],-1),oe={class:"col-span-6 sm:col-span-3"},ae={class:"col-span-6 sm:col-span-3"},ne=s("div",{class:"col-span-6 sm:col-span-6"},[s("h4",{class:"text-md font-bold text-gray-900"},"Business")],-1),te={class:"col-span-6 sm:col-span-2"},ie={class:"col-span-6 sm:col-span-2"},le={class:"col-span-6 sm:col-span-2"},me={class:"col-span-6 sm:col-span-2"},re={class:"col-span-6 sm:col-span-2"},de={class:"col-span-6 sm:col-span-2"},ue={class:"col-span-6 sm:col-span-4"},pe={class:"col-span-6 sm:col-span-2"},ce={class:"col-span-6 sm:col-span-2"},_e=s("option",{value:null,class:"text-gray-500"},"Select Tax Table",-1),be=["value"],fe={class:"col-span-6 sm:col-span-4"},ye=s("option",{value:null,class:"text-gray-500"},"Select Tax Table",-1),ve=["value"],he=s("div",{class:"col-span-6 sm:col-span-6 border-t pt-2"},[s("h4",{class:"text-md font-bold text-gray-900"},"Tax")],-1),ge={class:"col-span-6 sm:col-span-2"},Te=s("div",{class:"col-span-6 sm:col-span-6 border-t pt-2"},[s("h4",{class:"text-md font-bold text-gray-900"},"Counters")],-1),Ve={class:"col-span-6 sm:col-span-2"},Ue={class:"col-span-6 sm:col-span-4"},we={class:"col-span-6 sm:col-span-2"},xe={class:"col-span-6 sm:col-span-4"},ke={class:"col-span-6 sm:col-span-2"},Ne={class:"col-span-6 sm:col-span-4"},Be={class:"col-span-6 sm:col-span-2"},Fe={class:"col-span-6 sm:col-span-4"},Re={class:"col-span-6 sm:col-span-2"},Ce={class:"col-span-6 sm:col-span-4"},Se=s("span",{class:"material-icons-outlined"}," save ",-1);function Me(i,e,o,v,t,_){const l=u("form-label"),f=u("date-picker-start"),y=u("date-picker-end"),m=u("form-input"),R=u("form-button");return p(),c("div",Y,[Z,$,s("form",{onSubmit:e[23]||(e[23]=T((...n)=>_.submit&&_.submit(...n),["prevent"]))},[s("div",ee,[se,s("div",oe,[a(l,{for:"accounting_period_date_start",value:"Start Date"}),a(f,{id:"accounting_period_date_start",name:"accounting_period_date_start",modelValue:t.form.options.accounting_period.date_start,"onUpdate:modelValue":e[0]||(e[0]=n=>t.form.options.accounting_period.date_start=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled"])]),s("div",ae,[a(l,{for:"accounting_period_date_end",value:"End Date"}),a(y,{id:"accounting_period_date_end",name:"accounting_period_date_end",modelValue:t.form.options.accounting_period.date_end,"onUpdate:modelValue":e[1]||(e[1]=n=>t.form.options.accounting_period.date_end=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled"])]),ne,d(" Business Company Name "),s("div",te,[a(l,{for:"business_company_name",value:"Company Name"}),a(m,{id:"business_company_name",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.business.company_name,"onUpdate:modelValue":e[2]||(e[2]=n=>t.form.options.business.company_name=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Company Address "),s("div",ie,[a(l,{for:"business_company_address",value:"Company Address"}),a(m,{id:"business_company_address",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.business.company_address,"onUpdate:modelValue":e[3]||(e[3]=n=>t.form.options.business.company_address=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Contact Person "),s("div",le,[a(l,{for:"business_company_contact_person",value:"Company Contact Person"}),a(m,{id:"business_company_contact_person",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.business.company_contact_person,"onUpdate:modelValue":e[4]||(e[4]=n=>t.form.options.business.company_contact_person=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Phone Number "),s("div",me,[a(l,{for:"business_company_phone_number",value:"Company Phone Number"}),a(m,{id:"business_company_phone_number",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.business.company_phone_number,"onUpdate:modelValue":e[5]||(e[5]=n=>t.form.options.business.company_phone_number=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Fax Number "),s("div",re,[a(l,{for:"business_company_fax_number",value:"Company Fax Number"}),a(m,{id:"business_company_fax_number",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.business.company_fax_number,"onUpdate:modelValue":e[6]||(e[6]=n=>t.form.options.business.company_fax_number=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Email Number "),s("div",de,[a(l,{for:"business_company_email_address",value:"Company Email Number"}),a(m,{id:"business_company_email_address",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.business.company_email_address,"onUpdate:modelValue":e[7]||(e[7]=n=>t.form.options.business.company_email_address=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Website Url "),s("div",ue,[a(l,{for:"business_company_website_url",value:"Company Website Url"}),a(m,{id:"business_company_website_url",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.business.company_website_url,"onUpdate:modelValue":e[8]||(e[8]=n=>t.form.options.business.company_website_url=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Company Id "),s("div",pe,[a(l,{for:"business_company_id",value:"Company ID"}),a(m,{id:"business_company_id",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.business.company_id,"onUpdate:modelValue":e[9]||(e[9]=n=>t.form.options.business.company_id=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Business Default customer taxtable "),s("div",ce,[a(l,{for:"business_default_customer_taxtable",value:"Default Customer Tax Table"}),k(s("select",{id:"business_default_customer_taxtable","onUpdate:modelValue":e[10]||(e[10]=n=>t.form.options.business.default_customer_taxtable=n),class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},[_e,(p(!0),c(B,null,F(i.store.props.taxtables,n=>(p(),c("option",{key:n.guid,value:n},b(n.name),9,be))),128))],512),[[N,t.form.options.business.default_customer_taxtable]])]),d(" Business Default vendor taxtable "),s("div",fe,[a(l,{for:"business_default_vendor_taxtable",value:"Default Vendor Tax Table"}),k(s("select",{id:"business_default_vendor_taxtable","onUpdate:modelValue":e[11]||(e[11]=n=>t.form.options.business.default_vendor_taxtable=n),class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},[ye,(p(!0),c(B,null,F(i.store.props.taxtables,n=>(p(),c("option",{key:n.guid,value:n},b(n.name),9,ve))),128))],512),[[N,t.form.options.business.default_vendor_taxtable]])]),he,d(" Tax Number "),s("div",ge,[a(l,{for:"tax_number",value:"Tax Number"}),a(m,{id:"tax_number",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.tax.tax_number,"onUpdate:modelValue":e[12]||(e[12]=n=>t.form.options.tax.tax_number=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),Te,d(" Bill Number "),s("div",Ve,[a(l,{for:"bill_number",value:"Bill number"}),a(m,{id:"bill_number",type:"number",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.counters.bill,"onUpdate:modelValue":e[13]||(e[13]=n=>t.form.options.counters.bill=n),min:"0",disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Bill Number Format"),s("div",Ue,[a(l,{for:"bill_number_format",value:"Bill number format"}),a(m,{id:"bill_number_format",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.counter_formats.bill,"onUpdate:modelValue":e[14]||(e[14]=n=>t.form.options.counter_formats.bill=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Vendor Number "),s("div",we,[a(l,{for:"vendor_number",value:"Vendor number"}),a(m,{id:"vendor_number",type:"number",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.counters.vendor,"onUpdate:modelValue":e[15]||(e[15]=n=>t.form.options.counters.vendor=n),min:"0",disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Vendor Number Format"),s("div",xe,[a(l,{for:"vendor_number_format",value:"Vendor number format"}),a(m,{id:"vendor_number_format",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.counter_formats.vendor,"onUpdate:modelValue":e[16]||(e[16]=n=>t.form.options.counter_formats.vendor=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Invoice Number "),s("div",ke,[a(l,{for:"invoice_number",value:"Invoice number"}),a(m,{id:"invoice_number",type:"number",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.counters.invoice,"onUpdate:modelValue":e[17]||(e[17]=n=>t.form.options.counters.invoice=n),min:"0",disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Invoice Number Format"),s("div",Ne,[a(l,{for:"vendor_number_format",value:"Invoice number format"}),a(m,{id:"invoice_number_format",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.counter_formats.invoice,"onUpdate:modelValue":e[18]||(e[18]=n=>t.form.options.counter_formats.invoice=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Job Number "),s("div",Be,[a(l,{for:"job_number",value:"Job number"}),a(m,{id:"job_number",type:"number",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.counters.job,"onUpdate:modelValue":e[19]||(e[19]=n=>t.form.options.counters.job=n),min:"0",disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Job Number Format"),s("div",Fe,[a(l,{for:"job_number_format",value:"Job number format"}),a(m,{id:"job_number_format",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.counter_formats.job,"onUpdate:modelValue":e[20]||(e[20]=n=>t.form.options.counter_formats.job=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Employee Number "),s("div",Re,[a(l,{for:"employee_number",value:"Employee number"}),a(m,{id:"employee_number",type:"number",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.counters.employee,"onUpdate:modelValue":e[21]||(e[21]=n=>t.form.options.counters.employee=n),min:"0",disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),d(" Employee Number Format"),s("div",Ce,[a(l,{for:"job_number_format",value:"Employee number format"}),a(m,{id:"employee_number_format",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!o.permissions.canUpdateTeam}]),modelValue:t.form.options.counter_formats.employee,"onUpdate:modelValue":e[22]||(e[22]=n=>t.form.options.counter_formats.employee=n),disabled:!o.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])])]),a(R,{class:r(["mt-4",{"opacity-25":i.store.processing}]),disabled:i.store.processing,title:"Save"},{default:g(()=>[Se]),_:1},8,["class","disabled"])],32)])}var je=h(X,[["render",Me],["__file","/home/phalo/kainotomo/web_gnucash/vue/code/src/components/teams/TeamsOptions.vue"]]);const Ee={props:["team","availableRoles","userPermissions"],data(){return{addTeamMemberForm:{email:"",role:null},updateRoleForm:{role:null},leaveTeamForm:{},removeTeamMemberForm:{},currentlyManagingRole:!1,managingRoleFor:null,confirmingLeavingTeam:!1,teamMemberBeingRemoved:null}},methods:{async addTeamMember(){try{await this.store.axios.post(`/phmoney/teams/${this.$route.params.team_pk}/members`,this.addTeamMemberForm)}catch{}await this.store.get(`/phmoney/teams/${this.$route.params.team_pk}`)},async cancelTeamInvitation(i){try{await this.store.axios.delete(`/phmoney/team-invitations/${i.id}`)}catch{}},manageRole(i){this.managingRoleFor=i,this.updateRoleForm.role=i.membership.role,this.currentlyManagingRole=!0},async updateRole(){await this.store.get(`/phmoney/teams/${this.$route.params.team_pk}`),this.updateRoleForm.put(route("team-members.update",[this.team,this.managingRoleFor]),{preserveScroll:!0,onSuccess:()=>this.currentlyManagingRole=!1})},confirmLeavingTeam(){this.confirmingLeavingTeam=!0},leaveTeam(){this.leaveTeamForm.delete(route("team-members.destroy",[this.team,this.$page.props.user]))},confirmTeamMemberRemoval(i){this.teamMemberBeingRemoved=i},removeTeamMember(){this.removeTeamMemberForm.delete(route("team-members.destroy",[this.team,this.teamMemberBeingRemoved]),{errorBag:"removeTeamMember",preserveScroll:!0,preserveState:!0,onSuccess:()=>this.teamMemberBeingRemoved=null})},displayableRole(i){return this.availableRoles.find(e=>e.key===i).name}}},Pe={class:"p-6"},De=s("h3",null,"Team Name",-1),Ie=s("p",null,"The team's name and owner information.",-1),Le={class:"flex items-center mt-2"},Oe=["src","alt"],Je={class:"ml-4 leading-tight"},Ae={class:"text-sm text-gray-700"},qe={class:"flex flex-wrap gap-2"},We=s("span",{class:"material-icons-outlined"}," save ",-1);function ze(i,e,o,v,t,_){const l=u("form-label"),f=u("form-input"),y=u("form-button");return p(),c("div",Pe,[De,Ie,a(l,{value:"Team Owner"}),s("div",Le,[s("img",{class:"object-cover w-12 h-12 rounded-full",src:i.store.user.profile_photo_url,alt:i.store.user.name},null,8,Oe),s("div",Je,[s("div",null,b(i.store.user.name),1),s("div",Ae,b(i.store.user.email),1)])]),s("form",{onSubmit:e[1]||(e[1]=T((...m)=>i.submit&&i.submit(...m),["prevent"]))},[s("div",qe,[a(l,{for:"name",value:"Team Name"}),a(f,{id:"name",type:"text",class:r(["mt-1 block w-full",{"opacity-50":!i.permissions.canUpdateTeam}]),modelValue:i.form.name,"onUpdate:modelValue":e[0]||(e[0]=m=>i.form.name=m),required:"",disabled:!i.permissions.canUpdateTeam},null,8,["modelValue","disabled","class"])]),a(y,{class:r(["mt-4",{"opacity-25":i.store.processing}]),disabled:i.store.processing,title:"Save"},{default:g(()=>[We]),_:1},8,["class","disabled"])],32)])}var Ge=h(Ee,[["render",ze],["__file","/home/phalo/kainotomo/web_gnucash/vue/code/src/components/teams/TeamsManageUsers.vue"]]);const He={class:"bg-white shadow mt-4 prose max-w-none"},Ke={class:"bg-white shadow mt-4 prose max-w-none"},Qe={class:"bg-white shadow mt-4 prose max-w-none"},Xe={async created(){await this.store.get(`/phmoney/teams/${this.$route.params.team_pk}`)}},Ye=P(x(w({},Xe),{name:"TeamsShow",setup(i){return(e,o)=>{const v=u("FormLayout");return e.store.props.team?(p(),D(v,{key:0,title:"User Profile"},{default:g(()=>[s("div",He,[a(Q,{team:e.store.props.team,permissions:e.store.props.permissions},null,8,["team","permissions"])]),s("div",Ke,[a(je,{team:e.store.props.team,permissions:e.store.props.permissions,options:e.store.props.options},null,8,["team","permissions","options"])]),s("div",Qe,[a(Ge,{team:e.store.props.team,availableRoles:e.store.props.availableRoles,userPermissions:e.store.props.userPermissions},null,8,["team","availableRoles","userPermissions"])])]),_:1})):d("v-if",!0)}}}));var es=h(Ye,[["__file","/home/phalo/kainotomo/web_gnucash/vue/code/src/views/teams/TeamsShow.vue"]]);export{es as default};

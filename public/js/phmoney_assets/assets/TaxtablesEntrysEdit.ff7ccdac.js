import{_,r as u,o as l,g as m,a as s,b as n,k as c,p as d,l as y,m as h,t as x,w as v,n as g,e as k}from"./main.ff91f6f2.js";const w={data(){var o,t,r;return{form:{taxtable:this.store.props.taxtable.guid,account:this.store.props.taxtableentry.account,amount_num:this.store.props.taxtableentry.amount_num,amount_denom:(o=this.store.props.taxtableentry.amount_denom)!=null?o:100,type:(t=this.store.props.taxtableentry.type)!=null?t:1},account:(r=this.store.props.taxtableentry.tax_account)!=null?r:1,amount:this.store.props.taxtableentry.amount_num/this.store.props.taxtableentry.amount_denom}},methods:{async submit(){let o=100;this.form.type==2&&(o=1e5),this.form.amount_num=this.amount*o,this.form.amount_denom=o,this.$route.name==="business.taxtables.entrys.create"?await this.store.post(`/phmoney/business/taxtables/${this.$route.params.taxtable_pk}/taxtableentrys/store`,this.form):await this.store.post(`/phmoney/business/taxtables/${this.$route.params.taxtable_pk}/taxtableentrys/update/${this.$route.params.entry_pk}`,this.form),this.$router.back()}}},V={class:"p-3 border"},E={class:"flex flex-wrap gap-2"},C=s("option",{value:"1"},"Percent %",-1),S=s("option",{value:"2"},"Value \u20AC",-1),T=[C,S],$=["value"],B={class:"flex gap-2 items-center justify-end mt-4"},U=s("span",{class:"material-icons-outlined"}," save ",-1);function q(o,t,r,A,a,p){const i=u("form-label"),f=u("form-input"),b=u("form-button");return l(),m("form",{onSubmit:t[3]||(t[3]=k((...e)=>p.submit&&p.submit(...e),["prevent"])),class:"p-6"},[s("div",V,[s("div",E,[s("div",null,[n(i,{for:"type",value:"Tax Included"}),c(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.form.type=e),name:"type",id:"type",class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},T,512),[[d,a.form.type]])]),s("div",null,[n(i,{for:"amount",value:"Value"}),n(f,{id:"amount",type:"number",modelValue:a.amount,"onUpdate:modelValue":t[1]||(t[1]=e=>a.amount=e),min:"0",required:""},null,8,["modelValue"])]),s("div",null,[n(i,{for:"account",value:"Account"}),c(s("select",{id:"account","onUpdate:modelValue":t[2]||(t[2]=e=>a.form.account=e),required:"",class:"border-gray-300 focus:border-sky-300 focus:ring focus:ring-sky-200 focus:ring-opacity-50 rounded-md shadow-sm"},[(l(!0),m(y,null,h(o.store.props.accounts,e=>(l(),m("option",{key:e.guid,value:e.guid},x(e.name),9,$))),128))],512),[[d,a.form.account]])])])]),s("div",B,[n(b,{class:g({"opacity-25":a.form.processing}),disabled:a.form.processing,title:"Save"},{default:v(()=>[U]),_:1},8,["class","disabled"])])],32)}var M=_(w,[["render",q],["__file","/home/phalo/kainotomo/web_gnucash/vue/code/src/components/business/taxtables/entrys/TaxtablesEntrysEdit.vue"]]);export{M as T};

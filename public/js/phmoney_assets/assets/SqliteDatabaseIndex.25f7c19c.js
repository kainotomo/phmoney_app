import{_,r as o,o as m,g as q,a as t,b as a,w as i,n as c,e as w,d as v,c as y}from"./main.ff91f6f2.js";const g={data(){return{form:{sqlite_file:null},download_url:`/phmoney/teams/${this.store.user.current_team_id}/database/download`}},methods:{async submit(){let e=new FormData;e.append("sqlite_file",this.form.sqlite_file),await this.store.post(`/phmoney/teams/${this.store.user.current_team_id}/database/upload`,e,{headers:{"Content-Type":"multipart/form-data"}}),this.store.errors===null&&(this.store.errors="File imported succesfully")}}},D=t("p",null,"Load or save data as sqlite file.",-1),S={class:"flex items-center justify-end mt-4 gap-2"},x=["href"],k=t("span",{class:"material-icons-outlined"}," download ",-1),I=[k],$=t("span",{class:"material-icons-outlined"},"upload",-1);function C(e,s,u,r,l,d){const f=o("form-label"),p=o("form-input"),b=o("form-secondary-button"),h=o("form-button");return m(),q("form",{onSubmit:s[1]||(s[1]=w((...n)=>d.submit&&d.submit(...n),["prevent"])),class:"p-6"},[D,t("div",null,[a(f,{for:"sqlite_file",value:"Select a Sqlite file"}),a(p,{id:"sqlite_file",type:"file",class:"mt-1 block w-full",onInput:s[0]||(s[0]=n=>l.form.sqlite_file=n.target.files[0]),required:"",autofocus:""})]),t("div",S,[a(b,{class:c({"opacity-25":e.store.processing}),disabled:e.store.processing,title:"Download"},{default:i(()=>[t("a",{href:l.download_url},I,8,x)]),_:1},8,["class","disabled"]),a(h,{class:c({"opacity-25":e.store.processing}),disabled:e.store.processing||l.form.sqlite_file===null,title:"Uploads"},{default:i(()=>[$]),_:1},8,["class","disabled"])])],32)}var B=_(g,[["render",C],["__file","/home/phalo/kainotomo/web_gnucash/vue/code/src/components/import/sqlite_database/SqliteDatabaseIndex.vue"]]);const F={class:"bg-white shadow mt-4 prose max-w-none"},L=v({name:"SqliteDatabaseIndex",setup(e){return(s,u)=>{const r=o("FormLayout");return m(),y(r,{title:"Sqlite Database"},{default:i(()=>[t("div",F,[a(B)])]),_:1})}}});var V=_(L,[["__file","/home/phalo/kainotomo/web_gnucash/vue/code/src/views/import/sqlite_database/SqliteDatabaseIndex.vue"]]);export{V as default};
